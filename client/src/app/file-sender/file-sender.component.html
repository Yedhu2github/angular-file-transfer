<div class="col-md-12">
  <div class="card m-5">
    <div class="card-body">
      <div class="choose-file">
        <div class="card-body">
          <div *ngIf="peerStatus == 'waiting'" class="">
            <input
              class="form-control-file"
              (change)="selectFile($event)"
              type="file"
            />
            <br />
            <div class="col-md-12 text-center">
              <button class="button mt-5 btn btn-success" (click)="send()">
                Send file
              </button>
            </div>
          </div>
          <div
            *ngIf="peerStatus == 'pending'"
            class="col-md-12 m-0"
            id="notification"
          >
            <div class="row">
              <div class="col-md-12 m-0">
                <span>
                  {{ returnReadyCount() }} users are ready, <br />
                  do you want to send {{ fileNameRef }} it now ?</span
                >
              </div>
              <div class="mt-3 col-md-12 text-center">
                <button
                  class="btn btn-primary"
                  (click)="confirm(true); peerStatus = 'processing'"
                >
                  Yes
                </button>
                <button
                  class="btn btn-warning ml-3"
                  (click)="confirm(false); peerStatus = 'processing'"
                >
                  No
                </button>
              </div>
            </div>
          </div>
          <div *ngIf="peerStatus == 'processing'" class="processing col-md-12">
            <span class="mb-4"
              >Sending <span class="text-info">{{ "file.name" }}</span> to
              <br />
              <span class="text-info"> {{ receiver.name }}</span></span
            >
            <div class="col-md-12 text-center">
              <span class="text-small postion-absolute text-white"
                >{{ percentage }}%</span
              >
              <ngb-progressbar
                class="mt-2"
                type="info"
                [value]="percentage"
                [striped]="true"
                [animated]="true"
              ></ngb-progressbar>
            </div>
            <div class="col-md-12 mt-4 text-center">
              <button
                class="mb-2 btn btn-warning"
                (click)="peerStatus = 'waiting'"
              >
                cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
